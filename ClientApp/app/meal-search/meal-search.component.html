<div class="meal-finder-container">
    <div class="search-bar-heading-container">
        <h4>Enter ingredients separated by commas</h4>
    </div>
    <div class="search-bar-container">
        <input type=text class="search-bar" placeholder="ie: parsley, sage, rosemary, thyme" #searchBox [ngModel]="queryString" (ngModelChange)="queryString=$event" id="search-box" (input)="search(searchBox.value)" (keyup.enter)="searchMeals()">
        <div class="search-results-container" (click)="$event.stopPropagation()" *ngIf="showSearchResults">
            <ul class="search-result-list">
                <li *ngFor="let ingredient of ingredients$ | async">
                    <a #ingredientResult (click)="selectIngredient(ingredient); searchBox.focus()">{{ingredient.name}}</a>
                </li>
            </ul>
        </div>
        <div *ngIf="(queryResult$ | async)?.invalidIngredients as ingredients">
            <active-ingredients *ngIf="invalidIngredientsDetected(ingredients)" [invalidIngredients]="ingredients"></active-ingredients>
        </div>
        <div *ngIf="(queryResults$ | async)?.targetIngredients as ingredients">
            <target-ingredients></target-ingredients>
        </div>
    </div>
    <div class="search-button-container">
        <button class="search-button" type=submit (click)="searchMeals()">Search</button>
    </div>
    
</div>
<meals [availableMeals]="queryResult$"></meals>

